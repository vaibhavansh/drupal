function assignBeneficiariesToCsr(array $beneficiaries, array $csrs): array {
  $assignments = [];

  $csrCount = count($csrs);
  $i = 0;

  foreach ($beneficiaries as $beneficiary) {
    $csr_id = $csrs[$i % $csrCount]->id();  // Round-robin assignment
    $assignments[$csr_id][] = $beneficiary->id();
    $i++;
  }

  return $assignments;
}
