function assignBeneficiariesToCsr(array $beneficiaries, array $csrs): array {
  $assignments = [];

  $csrCount = count($csrs);
  $i = 0;

  foreach ($beneficiaries as $beneficiary) {
    $csr_id = $csrs[$i % $csrCount]->id();  // Round-robin assignment
    $assignments[$csr_id][] = $beneficiary->id();
    $i++;
  }

  return $assignments;
}
$beneficiaries = getUsersByRole('beneficiary'); // Returns User[] (58 users)
$csrs = getUsersByRole('csr');                  // Returns User[] (20 users)

$assigned = assignBeneficiariesToCsr($beneficiaries, $csrs);

foreach ($assigned as $csr_id => $beneficiary_ids) {
  echo "CSR $csr_id is assigned beneficiaries: " . implode(', ', $beneficiary_ids) . "<br>";
}
