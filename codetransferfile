taxonomy_tools.create_vocabs:
  path: '/taxonomy-tools/create-vocab'
  defaults:
    _controller: '\Drupal\taxonomy_tools\Controller\TaxonomyToolsController::createVocabs'
    _title: 'Create Vocabularies'
  requirements:
    _permission: 'administer taxonomy'

taxonomy_tools.delete_vocabs:
  path: '/taxonomy-tools/delete-vocab'
  defaults:
    _controller: '\Drupal\taxonomy_tools\Controller\TaxonomyToolsController::deleteVocabs'
    _title: 'Delete Vocabularies'
  requirements:
    _permission: 'administer taxonomy'


<?php

namespace Drupal\taxonomy_tools\Controller;

use Drupal\Core\Controller\ControllerBase;
use Drupal\taxonomy\Entity\Vocabulary;

class TaxonomyToolsController extends ControllerBase {

  /**
   * Create vocabularies.
   */
  public function createVocabs() {
    // Array of vocabularies: machine name => label
    $vocabs_to_create = [
      'diploma' => 'Diploma',
      'engineering' => 'Engineering',
      'medicine' => 'Medicine',
    ];

    $created = [];
    foreach ($vocabs_to_create as $machine_name => $label) {
      // Check if vocabulary already exists
      if (!Vocabulary::load($machine_name)) {
        $vocab = Vocabulary::create([
          'vid' => $machine_name,
          'description' => 'Created programmatically',
          'name' => $label,
        ]);
        $vocab->save();
        $created[] = $label;
      }
    }

    return [
      '#markup' => 'Created vocabularies: ' . implode(', ', $created),
    ];
  }

  /**
   * Delete vocabularies.
   */
  public function deleteVocabs() {
    $vocabs_to_delete = ['diploma', 'engineering', 'medicine'];

    $deleted = [];
    foreach ($vocabs_to_delete as $machine_name) {
      if ($vocab = Vocabulary::load($machine_name)) {
        $vocab->delete();
        $deleted[] = $machine_name;
      }
    }

    return [
      '#markup' => 'Deleted vocabularies: ' . implode(', ', $deleted),
    ];
  }
}

